%======================================================
% Technische Universitaet Darmstadt
% Fachbereich Elektrotechnik und Inmatlformationstechnik
% Control Theory and Robotics Lab
% Prof. Dr.-Ing. J. Adamy
%======================================================
% Vorlage fuer Abschlussarbeiten
% Stand: 12.2012
% Wichtig: Kompilieren mit PDFLaTeX wird empfohlen
% Offizielle TUD-LaTeX-Vorlage erhaeltlich unter:
% http://exp1.fkp.physik.tu-darmstadt.de/tuddesign/
%======================================================
\documentclass[twoside,bigchapter,colorback,accentcolor=tud4b,11pt]{tudreport}
%======================================================
% colorback = Bereich unter Titel mit Hintergrundfarbe
% colorbacktitle = Titel mit Hintergrundfarbe (Akzent)
% RTR-Bl2au = accentcolor=tud1b		
% Grau = accentcolor=tud0a 
% blackrule fuer schwarze Leiste
% nochapterpage = do not start chapters on new page
% oneside = print only on one side of the page
%======================================================

%======================================================
% General package loading and definitions
%======================================================
\usepackage{color}
\usepackage{listings}
\usepackage{caption}

\newcounter{nalg}[chapter] % defines algorithm counter for chapter-level
\renewcommand{\thenalg}{\thechapter .\arabic{nalg}} %defines appearance of the algorithm counter
\DeclareCaptionLabelFormat{algocaption}{Algorithm \thenalg} % defines a new caption label as Algorithm x.y

\lstnewenvironment{algorithmHu}[1][] %defines the algorithm listing environment
{   
    \refstepcounter{nalg} %increments algorithm number
    \captionsetup{labelformat=algocaption,labelsep=colon} %defines the caption setup for: it ises label format as the declared caption label above and makes label and caption text to be separated by a ':'
    \lstset{ %this is the stype
        mathescape=true,
        frame=tB,
        numbers=left, 
        numberstyle=\tiny,
        basicstyle=\scriptsize, 
        keywordstyle=\color{black}\bfseries\em,
        keywords={,input, output, return, datatype, function, in, if, else, foreach, while, begin, end, } %add the keywords you want, or load a language as Rubens explains in his comment above.
        numbers=left,
        xleftmargin=.04\textwidth,
        #1 % this is to add specific settings to an usage of this environment (for instnce, the caption and referable label)
    }
}
{}
 
 
\usepackage{pythonhighlight}
\usepackage{lingmacros}
\usepackage{tree-dvips}
\usepackage{graphicx}
\usepackage{subcaption}
\expandafter\def\csname ver@subfig.sty\endcsname{}
\usepackage{amsmath}
\usepackage{mathtools}
%\usepackage{mathptmx}
%\usepackage{amsfonts}

\usepackage{tensor}  
\usepackage{float}
\usepackage{siunitx}
\usepackage{multirow}
%
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
%\numberwithin{equation}{section}

\usepackage{subfig}
\usepackage{wrapfig}

\usepackage{trfsigns}
\usepackage[latin9]{inputenc}
\usepackage{textcomp} 
%\usepackage{ngerman}
%\usepackage[ngerman]{babel}        % neue Rechtschreibung und einfache Eingabe von ä, ö, ü etc.
\usepackage[ngerman, english]{babel}
%\usepackage[babel,german=quotes]{csquotes}%\hyphenation{Ab-satz-wirt-schaft} 
 \usepackage{xspace}
%\usepackage[fleqn]{amsmath} % math environments and more by the AMS 
\usepackage{amsmath} % math environments and more by the AMS 
\usepackage{mathtools} % math environments and more by the AMS 
\usepackage{units}
\usepackage{pgfplots}
\usepackage{tasks} %package for tasks
\usepackage{leftidx} %package for supersubscripts on the leftside
\usepackage[
backend=bibtex,
style=alphabetic,
citestyle=numeric,
bibstyle = numeric,
doi = false,
isbn = false
]{biblatex}
\addbibresource{References}


\DeclareMathAlphabet{\mathdutchcal}{U}{dutchcal}{m}{n}
\SetMathAlphabet{\mathdutchcal}{bold}{U}{dutchcal}{b}{n}
\DeclareMathAlphabet{\mathdutchbcal}{U}{dutchcal}{b}{n}


\newcounter{dummy} % necessary for correct hyperlinks (to index, bib, etc.)
\newcommand{\myfloatalign}{\centering} % how all the floats will be aligned

%======================================================
% RTR-modifications of the TUD-layout
%======================================================
% reduce font size of page footers and headers (fancyhdr)

 \renewcommand{\footerfont}{\fontfamily{\sfdefault}\fontseries{m}\fontshape{n}\footnotesize\selectfont}
 \makeatletter
\newcommand{\rmnum}[1]{\romannumeral #1}
\newcommand{\Rmnum}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother
% remove space between items 
%\usepackage{enumitem}
%	\setenumerate{noitemsep}
%	\setitemize{noitemsep}
%	\setdescription{noitemsep}
%\setlist{nolistsep}
\usepackage{enumerate}
\usepackage[section]{placeins}

%======================================================
% Package loading for example contents (content.tex)
%======================================================
\usepackage{tabularx} % better tables
\setlength{\extrarowheight}{3pt} % increase table row height
\usepackage{booktabs}
\usepackage{caption}
\captionsetup{format=hang,font=small}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\usepackage{subfig}
\usepackage[stable,bottom]{footmisc}
%%
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage{psfrag}
\usepackage{listings}
\lstset{basicstyle=\ttfamily,language=C++,columns=fullflexible,frame=single,breaklines=true,}
\usepackage{amsthm} 
\usepackage{amsmath}
\usepackage[noend]{algpseudocode}
\usepackage[ruled]{algorithm2e}
\usepackage{makecell} %for cells to be bigger
\newsavebox{\measurebox}
\setlength{\parindent}{0pt}

 
 % \newtheorem{myAlgm}{Algorithmus}[chapter] 
 %%%
\newtheorem{theorem}{Theorem} % by ZD
%%%\newtheorem{lemma}[theorem]{Lemma}

%\renewcommand{\thempfootnote}{\roman{mpfootnote}} 
\usepackage{footmisc}



\newtheorem{myAlgo}{Algorithmus}[chapter] 
\newtheorem{lemma}[myAlgo]{Lemma}  
\newtheorem{theo}[myAlgo]{Satz}  
\newtheorem{defn}[myAlgo]{Definition}  


\newenvironment{falgo}   
 {\begin{mdframed}\begin{myAlgo}}   
 {\end{myAlgo}\end{mdframed}}

\newenvironment{flemma}   
 {\begin{mdframed}\begin{lemma}}   
 {\end{lemma}\end{mdframed}}

\newenvironment{ftheo}   
 {\begin{mdframed}\begin{theo}}   
 {\end{theo}\end{mdframed}}


\newenvironment{fdefn}   
 {\begin{mdframed}\begin{defn}}   
 {\end{defn}\end{mdframed}}


%%
% \usepackage{tikz}
% \usetikzlibrary{shapes,snakes}
%
%\tikzstyle{mybox} = [draw=blue, fill=green!20, very thick,
%    rectangle, rounded corners, inner sep=10pt, inner ysep=20pt]
%\tikzstyle{fancytitle} =[fill=blue, text=white, ellipse]

\usepackage{mdframed} 
\usepackage{lipsum} 

 
%%
 %======================================================
% Important information: to be set here and only here
%======================================================
\newcommand{\RTRTitle}{Mobile Marker Based Navigation \xspace}
\newcommand{\RTRThesisType}{Master-Thesis\xspace} % Diplomarbeit Studienarbeit Master-Arbeit Bachelor-Arbeit
\newcommand{\RTRID}{}
\newcommand{\RTRName}{Yue Hu\xspace}
\newcommand{\RTRSubmissionDate}{21. May 2018\xspace}% use only this date format
\newcommand{\RTRGutachter}{Gutachter: Prof. Dr.-Ing. J\"urgen Adamy\xspace}
\newcommand{\RTRBetreuer}{Betreuer: Ra{\'u}l Acu\~{n}a Godoy\xspace}
\newcommand{\RTRExternerBetreuer}{}

%Schalter um Bildgrößen gruppenweise anzupassen
\newcommand{\standardsize}{0.49}
\newcommand{\standardsizeb}{0.49}
\newcommand{\standardsizec}{0.49}%0.49 Doppelbilder
\mathcode`\,="013B%Löscht das Leerzeichen nach dem Komma in Dezimalzahlen

%======================================================
% Setup for hyperref
%======================================================
\usepackage[pdftex,hyperfootnotes=true,pdfpagelabels]{hyperref}
	\pdfcompresslevel=9
	\pdfadjustspacing=1 
\hypersetup{%
    colorlinks=false, linktocpage=false, pdfstartpage=1, pdfstartview=FitV,%
    breaklinks=true, pdfpagemode=UseNone, pageanchor=true, pdfpagemode=UseOutlines,%
    plainpages=false, bookmarksnumbered, bookmarksopen=true, bookmarksopenlevel=1,%
    hypertexnames=true, pdfhighlight=/O, %nesting=true,%frenchlinks,%
    %urlcolor=tud1b, linkcolor=tud1b, citecolor=tudtud1bccent,
    pdftitle={\RTRTitle, \RTRThesisType, \RTRID},%
    pdfauthor={\RTRName, RTR, TU Darmstadt},%
    pdfsubject={},%
    pdfkeywords={},%
    pdfcreator={},%
    pdfproducer={}%
}

%============================================
% Setup of the title page (do not change)
%============================================
\title{\RTRTitle}
\subtitle{\RTRThesisType}
\subsubtitle{\RTRName \\ \RTRID}
\setinstitutionlogo[height]{logos/logo_rmr}
\settitlepicture{logos/title2}
%\institution{\raggedleft 
%    Fachbereich ETiT\\
%    Institut für Automatisierungstechnik\\
%    Prof. Dr.-Ing. Jürgen Adamy
%}

%============================================
% Setup of the title backside (do not change)
%============================================
\lowertitleback{%
	Technische Universit\"at Darmstadt \\%
    Fachbereich ETiT\\
    Institut f\"ur Automatisierungstechnik\\
    Prof. Dr.-Ing. J\"urgen Adamy
}

\uppertitleback{%
	\RTRTitle \\%
	\RTRThesisType \\%
	\RTRID \\[\baselineskip]%
	Eingereicht von \RTRName \\%
	Tag der Einreichung: \RTRSubmissionDate \\[\baselineskip]%
	\RTRGutachter \\%
	\RTRBetreuer \\%
	\RTRExternerBetreuer%
}
	 
 
  \usepackage{appendix}
	\usepackage{harpoon}
	\addtocounter{MaxMatrixCols}{10}
%======================================================
% MAIN DOCUMENT STARTS HERE
%======================================================
\begin{document}
%====================================================== 
	% The front matter
	%======================================================
	
 
%======================================================
	% The front matter
	%======================================================
	\pagenumbering{roman}
	\frenchspacing
	\raggedbottom
	\selectlanguage{english} % american ngerman
	\maketitle	
  \chapter*{Ehrenw\"ortliche Erkl\"arung}
	Hiermit versichere ich, die vorliegende \RTRThesisType ohne Hilfe Dritter und nur mit den angegebenen Quellen 
    und Hilfsmitteln angefertigt zu haben. Alle Stellen, die aus den Quellen entnommen wurden, sind als solche 
    kenntlich gemacht worden. Diese Arbeit hat in dieser oder \"ahnlicher Form noch keiner Pr\"ufungsbeh\"orde vorgelegen.
    \vspace{1.5cm}
	
	\noindent Darmstadt, den \RTRSubmissionDate\hfill \RTRName
	
     

%\vspace{1.5cm}
%
%\noindent Darmstadt, den \RTRSubmissionDate\hfill \RTRName
	
	\tableofcontents
	\listoffigures
	\listoftables
	\lstlistoflistings
  %\input{inc/acronym}
	%======================================================
	% The main matter (insert your contents here)
	%======================================================
	\cleardoublepage
	\pagenumbering{arabic}

%Einführung
%\input{inc/acronym}
\input{inc/Abstract}
\input{inc/Introduction}
\input{inc/Error_Representations_and_Three_dimensional_Rigid_Transformation}
\input{inc/Camera_Model}
\input{inc/Non-linear_Optimization}
\input{inc/Visual_Odometry}
\input{inc/Visual_Mobile_Marker_Odometry}
\input{inc/Accuracy_in_Optical_Tracking_with_Fiducial_Markers_using_Condition_Number}
\input{inc/Accuracy_of_Monocular_Tracking_using_Error_Covariance_Matrix}
\input{inc/Motion_planning}
\input{inc/Conclusion}
\input{inc/List_of_Abbreviations}
%\input{inc/results}
%\input{inc/conclusion}	%Zusammenfassung aller Ergebnisse
%\input{inc/Outlook} 
 	 
 	 \begin{appendices}
 	 \renewcommand{\thechapter}{\Roman{chapter}}
%  	\input{inc/basicvisualcomputing}
%  	\input{inc/Anhang/Anhang}	
  	 
  	 

%      \chapter{Mathematik}
%        some text...

\end{appendices}
	%======================================================
	% The back matter
	%======================================================
	%\cleardoublepage
	%\refstepcounter{dummy}
	%\bibliographystyle{plainnat} % <--- layout of the bib
	%\bibliography{References} % file name of your bib
    %\addcontentsline{toc}{chapter}{\bibname}
    \printbibliography
\end{document}
%======================================================
%======================================================